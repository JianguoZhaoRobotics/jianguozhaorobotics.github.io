{"version":3,"kind":"Notebook","sha256":"d7755c2a25f3d54a7ac8ef6c1105491bce1473dca36f16cf5734cf0b6bb22dcf","slug":"lab6-trajectorytracking","location":"/Lab6 - TrajectoryTracking.ipynb","dependencies":[],"frontmatter":{"title":"Lab6: Trajectory Tracking","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"authors":[{"nameParsed":{"literal":"Jianguo Zhao","given":"Jianguo","family":"Zhao"},"name":"Jianguo Zhao","affiliations":["Department of Mechanical Engineering, Colorado State University"],"id":"contributors-Users\\jguoz\\OneDrive - Colostate\\Teaching\\MECH 529 Advanced Mechanical Systems\\2025 Fall\\Lab\\All Labs\\myst-generated-uid-0"}],"github":"https://github.com/YOUR_USERNAME/YOUR_REPO","copyright":"2025","affiliations":[{"id":"Department of Mechanical Engineering, Colorado State University","name":"Department of Mechanical Engineering, Colorado State University"}],"thumbnail":"/b7c7f84578de0e1806d35a4e226374f6.png","exports":[{"format":"ipynb","filename":"Lab6 - TrajectoryTracking.ipynb","url":"/Lab6 - TrajectoryTra-d7c2f3443d7cae2a593d684cd854094e.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{"id":"exempt-legislation"},"children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In this lab, we will explore trajectory tracking control using a nonlinear vehicle steering system. The objective is to design controllers that enable the vehicle to follow a desired trajectory, focusing on both constant gain and gain-scheduled state feedback approaches.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"F6d1OvrGMm"}],"key":"CwKgah1xMn"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"The lab is organized as follows:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"nnqtpGxawj"}],"key":"RnRoSwR8Oz"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Task 1:","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"H8M6cm5oGn"}],"key":"yYZB4L2ZiQ"},{"type":"text","value":" Design a state feedback controller with a constant gain, computed around a nominal forward speed. Analyze the closed-loop performance for different speeds and observe the limitations of using a fixed gain for trajectory tracking.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"CAalKf7u3X"}],"key":"faXOa5e0HN"}],"key":"qa0rXXnCoq"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Task 2:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"dETSOKTpQ4"}],"key":"reTqGtNWXH"},{"type":"text","value":" Develop a gain-scheduled controller by linearizing the system at multiple operating points (different speeds and headings). Interpolate the feedback gains based on the current operating condition to improve tracking performance across a range of speeds.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"hJfKDf02Bj"}],"key":"r8SDIYMw87"}],"key":"rHzItAhJfb"}],"key":"l9KT3pzTh0"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"We will use the following controller structure:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"pLu0GOmF4c"}],"key":"Kma9i5Rf39"},{"type":"math","value":"u = u_\\text{d} - K(\\mu) (x - x_\\text{d}),","position":{"start":{"line":13,"column":1},"end":{"line":15,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>u</mi><mo>=</mo><msub><mi>u</mi><mtext>d</mtext></msub><mo>−</mo><mi>K</mi><mo stretchy=\"false\">(</mo><mi>μ</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo>−</mo><msub><mi>x</mi><mtext>d</mtext></msub><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo></mrow><annotation encoding=\"application/x-tex\">u = u_\\text{d} - K(\\mu) (x - x_\\text{d}),</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">u</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">μ</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span></span></span></span></span>","enumerator":"1","key":"gwnHFINhMZ"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"where ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"wYmo2spd7J"},{"type":"inlineMath","value":"x_\\text{d}, u_\\text{d}","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mtext>d</mtext></msub><mo separator=\"true\">,</mo><msub><mi>u</mi><mtext>d</mtext></msub></mrow><annotation encoding=\"application/x-tex\">x_\\text{d}, u_\\text{d}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"WnBLjlRZeo"},{"type":"text","value":" are the desired state and input trajectories, and ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"tLBba3hANf"},{"type":"inlineMath","value":"\\mu","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>μ</mi></mrow><annotation encoding=\"application/x-tex\">\\mu</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">μ</span></span></span></span>","key":"Typd01p7VR"},{"type":"text","value":" represents the scheduling variables (such as speed and heading).","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"ZvbsdDyBtu"}],"key":"W1FnzbBbzm"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"By the end of this lab, you will understand the benefits and challenges of both constant gain and gain-scheduled controllers for nonlinear trajectory tracking.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"zPffr6PohE"}],"key":"iVRyXNYXjU"}],"identifier":"exempt-legislation","label":"exempt-legislation","html_id":"exempt-legislation","key":"rcr5c3Y6KF"},{"type":"block","kind":"notebook-code","data":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":44,"status":"ok","timestamp":1760724245905,"user":{"displayName":"Jianguo Zhao","userId":"09996222056778326224"},"user_tz":360},"id":"corresponding-convenience","outputId":"9074459a-abb9-4546-f802-99ef4c51e090"},"children":[{"type":"code","lang":"python","executable":true,"value":"# Import the packages needed for the examples included in this notebook\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport itertools\nfrom cmath import sqrt\nfrom math import pi\ntry:\n  import control as ctl\n  print(\"python-control\", ctl.__version__)\nexcept ImportError:\n  !pip install control\n  import control as ctl\nimport control.optimal as opt\n","identifier":"corresponding-convenience-code","enumerator":"1","html_id":"corresponding-convenience-code","key":"luy5qyiPJh"},{"type":"outputs","id":"PnqO1OnonqW_58d2GDQWs","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"python-control 0.10.2\n"},"children":[],"identifier":"corresponding-convenience-outputs-0","html_id":"corresponding-convenience-outputs-0","key":"ZNcHt53b4P"}],"identifier":"corresponding-convenience-outputs","html_id":"corresponding-convenience-outputs","key":"hLhFX2N5G7"}],"identifier":"corresponding-convenience","label":"corresponding-convenience","html_id":"corresponding-convenience","key":"e6hcaPDksz"},{"type":"block","kind":"notebook-content","data":{"id":"corporate-sense"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Vehicle Steering Dynamics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RueXURqidB"}],"identifier":"vehicle-steering-dynamics","label":"Vehicle Steering Dynamics","html_id":"vehicle-steering-dynamics","implicit":true,"key":"LzSAojBEsW"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We consider a simplified vehicle as follows:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"d3KNNGT3Al"}],"key":"rBaHtBQGPB"},{"type":"image","url":"/b7c7f84578de0e1806d35a4e226374f6.png","width":480,"key":"X2PDjDiLbQ","urlSource":"https://fbswiki.org/wiki/images/5/52/Kincar.png"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"The vehicle dynamics can modeled as:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"TqwAspkfR1"}],"key":"CuJn54WsHN"},{"type":"math","value":"\\begin{aligned}\n  \\dot x &= \\cos\\theta\\, v \\\\\n  \\dot y &= \\sin\\theta\\, v \\\\\n  \\dot\\theta &= \\frac{v}{l} \\tan \\delta\n\\end{aligned}","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"tight":"before","html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mover accent=\"true\"><mi>x</mi><mo>˙</mo></mover></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mi>cos</mi><mo>⁡</mo><mi>θ</mi><mtext> </mtext><mi>v</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mover accent=\"true\"><mi>y</mi><mo>˙</mo></mover></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mi>sin</mi><mo>⁡</mo><mi>θ</mi><mtext> </mtext><mi>v</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mover accent=\"true\"><mi>θ</mi><mo>˙</mo></mover></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mfrac><mi>v</mi><mi>l</mi></mfrac><mi>tan</mi><mo>⁡</mo><mi>δ</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n  \\dot x &amp;= \\cos\\theta\\, v \\\\\n  \\dot y &amp;= \\sin\\theta\\, v \\\\\n  \\dot\\theta &amp;= \\frac{v}{l} \\tan \\delta\n\\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:5.0936em;vertical-align:-2.2968em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.7968em;\"><span style=\"top:-5.0643em;\"><span class=\"pstrut\" style=\"height:3.1076em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6679em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">x</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1111em;\"><span class=\"mord\">˙</span></span></span></span></span></span></span></span></span><span style=\"top:-3.5643em;\"><span class=\"pstrut\" style=\"height:3.1076em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6679em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.0833em;\"><span class=\"mord\">˙</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span></span></span><span style=\"top:-1.7968em;\"><span class=\"pstrut\" style=\"height:3.1076em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9313em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span></span><span style=\"top:-3.2634em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.0556em;\"><span class=\"mord\">˙</span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.2968em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.7968em;\"><span style=\"top:-5.0643em;\"><span class=\"pstrut\" style=\"height:3.1076em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mop\">cos</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span><span style=\"top:-3.5643em;\"><span class=\"pstrut\" style=\"height:3.1076em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mop\">sin</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span><span style=\"top:-1.7968em;\"><span class=\"pstrut\" style=\"height:3.1076em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1076em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">tan</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03785em;\">δ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.2968em;\"><span></span></span></span></span></span></span></span></span></span></span></span>","enumerator":"2","key":"XdWk6rMpLb"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"We take the state of the system as ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"bjIcR5m6S9"},{"type":"inlineMath","value":"(x, y, \\theta)","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo separator=\"true\">,</mo><mi>θ</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(x, y, \\theta)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"mclose\">)</span></span></span></span>","key":"IChN4YESwa"},{"type":"text","value":" where ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"lrs636Yr6K"},{"type":"inlineMath","value":"(x, y)","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(x, y)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span></span></span></span>","key":"kyXI2BUxA8"},{"type":"text","value":" is the position of the vehicle in the plane and ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"Cm8HmmfxfX"},{"type":"inlineMath","value":"\\theta","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span></span></span></span>","key":"Gu8QRwLwJm"},{"type":"text","value":" is the angle of the vehicle with respect to horizontal.  The vehicle input is given by ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"KZw5aecfKP"},{"type":"inlineMath","value":"(v, \\delta)","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>v</mi><mo separator=\"true\">,</mo><mi>δ</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(v, \\delta)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03785em;\">δ</span><span class=\"mclose\">)</span></span></span></span>","key":"iKthHcnHA3"},{"type":"text","value":" where ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"L40yzadC3l"},{"type":"inlineMath","value":"v","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>","key":"xPSaSefZSC"},{"type":"text","value":" is the forward velocity of the vehicle and ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"G4iZoOijye"},{"type":"inlineMath","value":"\\delta","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>δ</mi></mrow><annotation encoding=\"application/x-tex\">\\delta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03785em;\">δ</span></span></span></span>","key":"l7fk4bliHi"},{"type":"text","value":" is the angle of the steering wheel.  The model includes saturation of the vehicle steering angle.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"W6x3T4CYh7"}],"key":"NyewYUGovX"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"We first create the dynamics model for vehicle steering:","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"ng5OVFpxv9"}],"key":"Xp9J6gFx3Z"}],"identifier":"corporate-sense","label":"corporate-sense","html_id":"corporate-sense","key":"nsYxUK4ivd"},{"type":"block","kind":"notebook-code","data":{"id":"naval-pizza"},"children":[{"type":"code","lang":"python","executable":true,"value":"\n# Function to compute the RHS of the system dynamics\ndef kincar_update(t, x, u, params):\n    # Get the parameters for the model\n    l = params['wheelbase']             # vehicle wheelbase\n    deltamax = params['maxsteer']       # max steering angle (rad)\n\n    # Saturate the steering input,\n    # the steering angle will be between -deltamax and deltamax\n    delta = np.clip(u[1], -deltamax, deltamax)\n\n    # Return the derivative of the state\n    return np.array([\n        np.cos(x[2]) * u[0],            # xdot = cos(theta) v\n        np.sin(x[2]) * u[0],            # ydot = sin(theta) v\n        (u[0] / l) * np.tan(delta)      # thdot = v/l tan(delta)\n    ])\n\nkincar_params={'wheelbase': 3, 'maxsteer': 0.5}\n\n# Create a nonlinear input/output system\nkincar = ctl.nlsys(\n    kincar_update, None, name=\"kincar\", params=kincar_params,\n    inputs=('v', 'delta'), outputs=('x', 'y', 'theta'),\n    states=('x', 'y', 'theta'))","identifier":"naval-pizza-code","enumerator":"2","html_id":"naval-pizza-code","key":"JXFVvHUfUJ"},{"type":"outputs","id":"SGDlEXEUgtKFogTElN5yq","children":[],"identifier":"naval-pizza-outputs","html_id":"naval-pizza-outputs","key":"ISwTpBZ1Ek"}],"identifier":"naval-pizza","label":"naval-pizza","html_id":"naval-pizza","key":"XPfH57ufFM"},{"type":"block","kind":"notebook-content","data":{"id":"d04a73d8"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We then create a function that will be used later for plotting the lane change manuever.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VI1EwIMKhL"}],"key":"ONijLegbKl"}],"identifier":"d04a73d8","label":"d04a73d8","html_id":"d04a73d8","key":"LN4Qlz60zB"},{"type":"block","kind":"notebook-code","data":{"id":"6340dbd4-7867-47ad-aefb-1bea7f6ad566"},"children":[{"type":"code","lang":"python","executable":true,"value":"# Utility function to plot lane change manuever\n# t: time vector\n# y: state trajectory\ndef plot_lanechange(t, y, u, figure=None, yf=None, label=None):\n    # Plot the xy trajectory\n    plt.subplot(3, 1, 1, label='xy')\n    plt.plot(y[0], y[1], label=label)\n    plt.xlabel(\"x [m]\")\n    plt.ylabel(\"y [m]\")\n    if yf is not None: # if final point is given, plot it\n        plt.plot(yf[0], yf[1], 'ro')\n\n    # Plot x and y as functions of time\n    plt.subplot(3, 2, 3, label='x')\n    plt.plot(t, y[0])\n    plt.ylabel(\"$x$ [m]\")\n\n    plt.subplot(3, 2, 4, label='y')\n    plt.plot(t, y[1])\n    plt.ylabel(\"$y$ [m]\")\n\n    # Plot the inputs as a function of time\n    plt.subplot(3, 2, 5, label='v')\n    plt.plot(t, u[0])\n    plt.xlabel(\"Time $t$ [sec]\")\n    plt.ylabel(\"$v$ [m/s]\")\n\n    plt.subplot(3, 2, 6, label='delta')\n    plt.plot(t, u[1])\n    plt.xlabel(\"Time $t$ [sec]\")\n    plt.ylabel(\"$\\\\delta$ [rad]\")\n\n    plt.subplot(3, 1, 1)\n    plt.title(\"Lane change manuever\")\n    if label:\n        plt.legend()\n    plt.tight_layout()","identifier":"6340dbd4-7867-47ad-aefb-1bea7f6ad566-code","enumerator":"3","html_id":"id-6340dbd4-7867-47ad-aefb-1bea7f6ad566-code","key":"yIYKUeBJGj"},{"type":"outputs","id":"cX8uQCYqyDjthFKd1kYXD","children":[],"identifier":"6340dbd4-7867-47ad-aefb-1bea7f6ad566-outputs","html_id":"id-6340dbd4-7867-47ad-aefb-1bea7f6ad566-outputs","key":"Tbv3EbIH4C"}],"identifier":"6340dbd4-7867-47ad-aefb-1bea7f6ad566","label":"6340dbd4-7867-47ad-aefb-1bea7f6ad566","html_id":"id-6340dbd4-7867-47ad-aefb-1bea7f6ad566","key":"iE4DIrgUb3"},{"type":"block","kind":"notebook-content","data":{"id":"BAsKLMWWK3W2"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Task 1: State feedback controller with a constant gain","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XAAGYSr1Rw"}],"identifier":"task-1-state-feedback-controller-with-a-constant-gain","label":"Task 1: State feedback controller with a constant gain","html_id":"task-1-state-feedback-controller-with-a-constant-gain","implicit":true,"key":"xOL1vvrbJi"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We start by designing a state feedback controller that can be used to stabilize the system.  We design the controller around a nominal forward speed of 10 m/s, but we apply this to the vehicle at different speeds.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LnT4KLcwH2"}],"key":"qJ3rgF7QbY"}],"identifier":"basklmwwk3w2","label":"BAsKLMWWK3W2","html_id":"basklmwwk3w2","key":"sMwdsgJUzK"},{"type":"block","kind":"notebook-code","data":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":46,"status":"ok","timestamp":1760724574237,"user":{"displayName":"Jianguo Zhao","userId":"09996222056778326224"},"user_tz":360},"id":"g7DztIjmK2K_","outputId":"046e8693-539d-4fa0-caab-ea7e9de5f583"},"children":[{"type":"code","lang":"python","executable":true,"value":"# Compute the linearization of the dynamics at a nominal point\n\n# nominal position and heading\nx_nom = np.array([0, 0, 0])\n# nominal velocity and 0 steering angle, v can be any constant as long as delta=0, why?\nu_nom = np.array([10, 0])\n# Linearize around this operating point\nP = ctl.linearize(kincar, x_nom, u_nom)\nprint(P)\n\nQx = np.diag([1, 10, 0.1]) # we care about y position more than x position, which is more than theta\nQu = np.diag([1, 1]) # we care equally about v and delta inputs\nK, _, _ = ctl.lqr(P.A, P.B, Qx, Qu)\nprint(K)","identifier":"g7dztijmk2k_-code","enumerator":"4","html_id":"g7dztijmk2k-code","key":"UzWL1erUfl"},{"type":"outputs","id":"EEWnoA5P0r_4wWs7xTCIP","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"<StateSpace>: sys[15]\nInputs (2): ['u[0]', 'u[1]']\nOutputs (3): ['y[0]', 'y[1]', 'y[2]']\nStates (3): ['x[0]', 'x[1]', 'x[2]']\n\nA = [[ 0.0000000e+00  0.0000000e+00 -5.0004445e-06]\n     [ 0.0000000e+00  0.0000000e+00  1.0000000e+01]\n     [ 0.0000000e+00  0.0000000e+00  0.0000000e+00]]\n\nB = [[1.         0.        ]\n     [0.         0.        ]\n     [0.         3.33333333]]\n\nC = [[1. 0. 0.]\n     [0. 1. 0.]\n     [0. 0. 1.]]\n\nD = [[0. 0.]\n     [0. 0.]\n     [0. 0.]]\n[[ 1.00000000e+00  4.35732785e-07 -4.13372420e-08]\n [-1.37790807e-07  3.16227766e+00  4.36734083e+00]]\n"},"children":[],"identifier":"g7dztijmk2k_-outputs-0","html_id":"g7dztijmk2k-outputs-0","key":"hcNeKQUoWS"}],"identifier":"g7dztijmk2k_-outputs","html_id":"g7dztijmk2k-outputs","key":"FjAgHbhqff"}],"identifier":"g7dztijmk2k_","label":"g7DztIjmK2K_","html_id":"g7dztijmk2k","key":"GUiG4I1TRi"},{"type":"block","kind":"notebook-content","data":{"id":"57beda42"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We will then create the closed loop system using the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I74ZBD7SSL"},{"type":"inlineCode","value":"control.create_statefbk_iosystem","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"N32SkwmyAj"},{"type":"text","value":" function, which constructs a closed-loop nonlinear input/output system using state feedback. This function allows you to specify feedback gains and scheduling variables for gain-scheduled controllers. For more details, see the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VZUYtjMpHe"},{"type":"link","url":"https://python-control.readthedocs.io/en/0.10.2/generated/control.create_statefbk_iosystem.html#control.create_statefbk_iosystem","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"python-control documentation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aT05abys32"}],"urlSource":"https://python-control.readthedocs.io/en/0.10.2/generated/control.create_statefbk_iosystem.html#control.create_statefbk_iosystem","key":"WD50XjmBEU"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WwkJ04a8uu"}],"key":"FByYmrNtVl"},{"type":"image","url":"/a815026713923e48f496266805ee3cfe.png","alt":"image.png","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cdSpn8V8mQ","urlSource":"data:image/png;base64,iVBORw0KGg...lFTkSuQmCC"}],"identifier":"57beda42","label":"57beda42","html_id":"id-57beda42","key":"R52qtYtIF1"},{"type":"block","kind":"notebook-code","data":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":36,"status":"ok","timestamp":1760725132480,"user":{"displayName":"Jianguo Zhao","userId":"09996222056778326224"},"user_tz":360},"id":"szvKKh6rLgkt","outputId":"0a64021e-0292-4db0-bb91-701845adffd9"},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the closed loop system using create_statefbk_iosystem\n# ctrl is the controller system, clsys is the closed loop system\nctrl, clsys = ctl.create_statefbk_iosystem(\n    kincar, K,\n    xd_labels=['xd', 'yd', 'thetad'],\n    ud_labels=['vd', 'deltad'])\nprint(clsys)","identifier":"szvkkh6rlgkt-code","enumerator":"5","html_id":"szvkkh6rlgkt-code","key":"wCeoxegpFO"},{"type":"outputs","id":"2G_9FTNe6k_tMX-vdOze-","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"<InterconnectedSystem>: kincar_sys[16]\nInputs (5): ['xd', 'yd', 'thetad', 'vd', 'deltad']\nOutputs (5): ['x', 'y', 'theta', 'v', 'delta']\nStates (3): ['kincar_x', 'kincar_y', 'kincar_theta']\n\nSubsystems (2):\n * <NonlinearIOSystem kincar: ['v', 'delta'] -> ['x', 'y', 'theta']>\n * <StateSpace sys[16]: ['xd', 'yd', 'thetad', 'vd', 'deltad', 'x', 'y',\n    'theta'] -> ['v', 'delta']>\n\nConnections:\n * kincar.v <- sys[16].v\n * kincar.delta <- sys[16].delta\n * sys[16].xd <- xd\n * sys[16].yd <- yd\n * sys[16].thetad <- thetad\n * sys[16].vd <- vd\n * sys[16].deltad <- deltad\n * sys[16].x <- kincar.x\n * sys[16].y <- kincar.y\n * sys[16].theta <- kincar.theta\n\nOutputs:\n * x <- kincar.x\n * y <- kincar.y\n * theta <- kincar.theta\n * v <- sys[16].v\n * delta <- sys[16].delta\n"},"children":[],"identifier":"szvkkh6rlgkt-outputs-0","html_id":"szvkkh6rlgkt-outputs-0","key":"JZafaFICUn"}],"identifier":"szvkkh6rlgkt-outputs","html_id":"szvkkh6rlgkt-outputs","key":"daAxOKPmcJ"}],"identifier":"szvkkh6rlgkt","label":"szvKKh6rLgkt","html_id":"szvkkh6rlgkt","key":"we62YVO64t"},{"type":"block","kind":"notebook-content","data":{"id":"6c6c4b9b"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Reference trajectory subsystem","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eUjsZLaNtm"}],"identifier":"reference-trajectory-subsystem","label":"Reference trajectory subsystem","html_id":"reference-trajectory-subsystem","implicit":true,"key":"MCg1UdL5rL"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"We can create ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pQsbsGihxo"},{"type":"inlineMath","value":"x_\\text{d}(t)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mtext>d</mtext></msub><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">x_\\text{d}(t)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span></span></span></span>","key":"bR1YtKTUsK"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fz5PdkXZIs"},{"type":"inlineMath","value":"u_\\text{d}(t)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>u</mi><mtext>d</mtext></msub><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">u_\\text{d}(t)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span></span></span></span>","key":"wXNIjw1uDX"},{"type":"text","value":" corresponding to desired speed (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cZmiy0ZdkW"},{"type":"inlineMath","value":"v_{ref}","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">v_{ref}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"Lx6NbUJuM7"},{"type":"text","value":") and lateral position (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"X0YGVRjwnI"},{"type":"inlineMath","value":"y_{ref}","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">y_{ref}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"fKvShG8e4Z"},{"type":"text","value":").\nThe reference trajectory block below generates a simple trajectory for the system given ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BJe7zYmpR3"},{"type":"inlineMath","value":"v_{ref}","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">v_{ref}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"HmjeAH6rmz"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RhX3Df2A51"},{"type":"inlineMath","value":"y_{ref}","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">y_{ref}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"GJ37xZEbVC"},{"type":"text","value":".  The trajectory consists of a straight line of the form","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"F26ujwIhuo"}],"key":"eAMkP37VrJ"},{"type":"math","value":"x_\\text{d}(t)=[v_{ref} t, \\quad y_{ref}, \\quad0]^T","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"tight":true,"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>x</mi><mtext>d</mtext></msub><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">[</mo><msub><mi>v</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub><mi>t</mi><mo separator=\"true\">,</mo><mspace width=\"1em\"/><msub><mi>y</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub><mo separator=\"true\">,</mo><mspace width=\"1em\"/><mn>0</mn><msup><mo stretchy=\"false\">]</mo><mi>T</mi></msup></mrow><annotation encoding=\"application/x-tex\">x_\\text{d}(t)=[v_{ref} t, \\quad y_{ref}, \\quad0]^T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1774em;vertical-align:-0.2861em;\"></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">t</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\"><span class=\"mclose\">]</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span></span></span></span></span>","enumerator":"3","key":"HkbUpmbycH"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"with nominal input","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fAdW4Xvd06"}],"key":"X5UTO2aCxL"},{"type":"math","value":"u_\\text{d}(t)\n=[v_{ref},\\quad 0]^T","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"tight":"before","html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>u</mi><mtext>d</mtext></msub><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">[</mo><msub><mi>v</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub><mo separator=\"true\">,</mo><mspace width=\"1em\"/><mn>0</mn><msup><mo stretchy=\"false\">]</mo><mi>T</mi></msup></mrow><annotation encoding=\"application/x-tex\">u_\\text{d}(t)\n=[v_{ref},\\quad 0]^T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1774em;vertical-align:-0.2861em;\"></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">0</span><span class=\"mclose\"><span class=\"mclose\">]</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span></span></span></span></span>","enumerator":"4","key":"i1TVkk44Yk"}],"identifier":"6c6c4b9b","label":"6c6c4b9b","html_id":"id-6c6c4b9b","key":"msR3U4eiuA"},{"type":"block","kind":"notebook-code","data":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":21,"status":"ok","timestamp":1760725325763,"user":{"displayName":"Jianguo Zhao","userId":"09996222056778326224"},"user_tz":360},"id":"significant-november","outputId":"9a0f8e78-796e-4502-b184-088f4b7eaf06"},"children":[{"type":"code","lang":"python","executable":true,"value":"# System state: none\n# System input: vref, yref\n# System output: xd, yd, thetad, vd, deltad\n# System parameters: none\n\ndef trajgen_output(t, x, u, params):\n    vref, yref = u\n    return np.array([vref * t, yref, 0, vref, 0])\n\n# Define the trajectory generator as an input/output system with no parameters or states\ntrajgen = ctl.nlsys(\n    None, trajgen_output, name='trajgen',\n    inputs=('vref', 'yref'),\n    outputs=('xd', 'yd', 'thetad', 'vd', 'deltad'))\n\nprint(trajgen)","identifier":"significant-november-code","enumerator":"6","html_id":"significant-november-code","key":"yrD232l6Xx"},{"type":"outputs","id":"P4KmxGrZ0h4U0Wi_M_9iN","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"<NonlinearIOSystem>: trajgen\nInputs (2): ['vref', 'yref']\nOutputs (5): ['xd', 'yd', 'thetad', 'vd', 'deltad']\nStates (0): []\n\nUpdate: <function NonlinearIOSystem.__init__.<locals>.<lambda> at 0x77ff8de0bba0>\nOutput: <function trajgen_output at 0x77ff8de09c60>\n"},"children":[],"identifier":"significant-november-outputs-0","html_id":"significant-november-outputs-0","key":"uH47aGK3uF"}],"identifier":"significant-november-outputs","html_id":"significant-november-outputs","key":"OL1UtCRQEL"}],"identifier":"significant-november","label":"significant-november","html_id":"significant-november","key":"OOxc8nA1ii"},{"type":"block","kind":"notebook-content","data":{"id":"0w5s56uUWw-v"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step responses","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hHtD20gmh5"}],"identifier":"step-responses","label":"Step responses","html_id":"step-responses","implicit":true,"key":"IJJb699mt6"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"To explore the dynamics of the system, we create a set of lane changes at different forward speeds.  Since the linearization depends on the speed, this means that the closed loop performance of the system will vary.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hHitaYlx2j"}],"key":"oE382nsl6L"}],"identifier":"0w5s56uuww-v","label":"0w5s56uUWw-v","html_id":"id-0w5s56uuww-v","key":"N6ElXi9GTC"},{"type":"block","kind":"notebook-code","data":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":57,"status":"ok","timestamp":1760725436692,"user":{"displayName":"Jianguo Zhao","userId":"09996222056778326224"},"user_tz":360},"id":"mtGLwMQkXEzw","outputId":"ca4ccbb2-5ccb-49d6-d600-34358ad62ea5"},"children":[{"type":"code","lang":"python","executable":true,"value":"steering_fixed = ctl.interconnect(\n    [kincar, ctrl, trajgen],\n    inputs=['vref', 'yref'],\n    #specify the outputs of the interconnected system to be the kincar outputs and inputs\n    outputs=kincar.output_labels + kincar.input_labels\n)\nprint(steering_fixed)","identifier":"mtglwmqkxezw-code","enumerator":"7","html_id":"mtglwmqkxezw-code","key":"LULKRdlOTF"},{"type":"outputs","id":"4haRaLZLv8TirrHpOEqNu","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"<InterconnectedSystem>: sys[17]\nInputs (2): ['vref', 'yref']\nOutputs (5): ['x', 'y', 'theta', 'v', 'delta']\nStates (3): ['kincar_x', 'kincar_y', 'kincar_theta']\n\nSubsystems (3):\n * <NonlinearIOSystem kincar: ['v', 'delta'] -> ['x', 'y', 'theta']>\n * <StateSpace sys[16]: ['xd', 'yd', 'thetad', 'vd', 'deltad', 'x', 'y',\n    'theta'] -> ['v', 'delta']>\n * <NonlinearIOSystem trajgen: ['vref', 'yref'] -> ['xd', 'yd', 'thetad',\n    'vd', 'deltad']>\n\nConnections:\n * kincar.v <- sys[16].v\n * kincar.delta <- sys[16].delta\n * sys[16].xd <- trajgen.xd\n * sys[16].yd <- trajgen.yd\n * sys[16].thetad <- trajgen.thetad\n * sys[16].vd <- trajgen.vd\n * sys[16].deltad <- trajgen.deltad\n * sys[16].x <- kincar.x\n * sys[16].y <- kincar.y\n * sys[16].theta <- kincar.theta\n * trajgen.vref <- vref\n * trajgen.yref <- yref\n\nOutputs:\n * x <- kincar.x\n * y <- kincar.y\n * theta <- kincar.theta\n * v <- sys[16].v\n * delta <- sys[16].delta\n"},"children":[],"identifier":"mtglwmqkxezw-outputs-0","html_id":"mtglwmqkxezw-outputs-0","key":"OcysJluaRq"}],"identifier":"mtglwmqkxezw-outputs","html_id":"mtglwmqkxezw-outputs","key":"R32ISbDnJe"}],"identifier":"mtglwmqkxezw","label":"mtGLwMQkXEzw","html_id":"mtglwmqkxezw","key":"VwWxCPkkAj"},{"type":"block","kind":"notebook-code","data":{"colab":{"base_uri":"https://localhost:8080/","height":487},"executionInfo":{"elapsed":1843,"status":"ok","timestamp":1760726523172,"user":{"displayName":"Jianguo Zhao","userId":"09996222056778326224"},"user_tz":360},"id":"sz7NaJTGXua1","outputId":"220213a8-9a2d-46ae-9235-01c6e672de8a"},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set up the simulation conditions\nyref = 15\nT = np.linspace(0, 5, 100)\n\n# Do an iteration through different speeds\nfor vref in [2, 5, 20]:\n    # Simulate the closed loop controller response\n    tout, yout = ctl.input_output_response(\n        steering_fixed, T, [vref * np.ones(len(T)), yref * np.ones(len(T))],\n        X0=[0, 0, 0], params={'maxsteer': 0.5})\n\n    # Plot the results\n    plot_lanechange(tout, yout, yout[3:])\n\n# Label the different curves\nplt.subplot(3, 1, 1)\nplt.legend([\"$v_d$ = \" + f\"{vref}\" for vref in [2, 10, 20]])\nplt.tight_layout()","identifier":"sz7najtgxua1-code","enumerator":"8","html_id":"sz7najtgxua1-code","key":"xz1S0M8RT8"},{"type":"outputs","id":"oLcx_Izn__lUdhkz76IES","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"172af4fd15807b115bf8e079df0a5662","path":"/172af4fd15807b115bf8e079df0a5662.png"},"text/plain":{"content":"<Figure size 640x480 with 5 Axes>","content_type":"text/plain"}}},"children":[],"identifier":"sz7najtgxua1-outputs-0","html_id":"sz7najtgxua1-outputs-0","key":"JUgXokDWH4"}],"identifier":"sz7najtgxua1-outputs","html_id":"sz7najtgxua1-outputs","key":"UO4lspM5DJ"}],"identifier":"sz7najtgxua1","label":"sz7NaJTGXua1","html_id":"sz7najtgxua1","key":"huaHXVlKU1"},{"type":"block","kind":"notebook-content","data":{"id":"7489052e"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Try to change the values of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rNrHZMYzlY"},{"type":"inlineMath","value":"y_{ref}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">y_{ref}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"gFMoCugnTf"},{"type":"text","value":", you will see that the constant gain values will not be able to track the reference. Why is this?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UCGPl1iS0a"}],"key":"vp0J48eWFn"}],"identifier":"7489052e","label":"7489052e","html_id":"id-7489052e","key":"kFHFt2CV7J"},{"type":"block","kind":"notebook-content","data":{"id":"3cc26675"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Task 2: Gain scheduled controller","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TzdcziiGZ9"}],"identifier":"task-2-gain-scheduled-controller","label":"Task 2: Gain scheduled controller","html_id":"task-2-gain-scheduled-controller","implicit":true,"key":"WvTFKVOuHC"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now let’s design a gain scheduled controller for the system. We first linearize the system about the desired trajectory to obtain","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CD53eUcfoL"}],"key":"UdzAKyTWZw"},{"type":"math","value":"\\begin{aligned}\n    A(x_\\text{d}) &= \\left. \\frac{\\partial f}{\\partial x} \\right|_{(x_\\text{d}, u_\\text{d})}\n      = \\begin{bmatrix}\n          0 & 0 & -\\sin\\theta_\\text{d}\\, v_\\text{d} \\\\ 0 & 0 & \\cos\\theta_\\text{d}\\, v_\\text{d} \\\\ 0 & 0 & 0\n        \\end{bmatrix}. \\\\\n    B(x_\\text{d}) &= \\left. \\frac{\\partial f}{\\partial u} \\right|_{(x_\\text{d}, u_\\text{d})}\n     = \\begin{bmatrix}\n       1 & 0 \\\\ 0 & 0 \\\\ 0 & v_\\text{d}/l\n       \\end{bmatrix}.\n  \\end{aligned}","position":{"start":{"line":5,"column":1},"end":{"line":16,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>A</mi><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mtext>d</mtext></msub><mo stretchy=\"false\">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><msub><mrow><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi>f</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><mi>x</mi></mrow></mfrac><mo fence=\"true\">∣</mo></mrow><mrow><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mtext>d</mtext></msub><mo separator=\"true\">,</mo><msub><mi>u</mi><mtext>d</mtext></msub><mo stretchy=\"false\">)</mo></mrow></msub><mo>=</mo><mrow><mo fence=\"true\">[</mo><mtable rowspacing=\"0.16em\" columnalign=\"center center center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mo>−</mo><mi>sin</mi><mo>⁡</mo><msub><mi>θ</mi><mtext>d</mtext></msub><mtext> </mtext><msub><mi>v</mi><mtext>d</mtext></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>cos</mi><mo>⁡</mo><msub><mi>θ</mi><mtext>d</mtext></msub><mtext> </mtext><msub><mi>v</mi><mtext>d</mtext></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd></mtr></mtable><mo fence=\"true\">]</mo></mrow><mi mathvariant=\"normal\">.</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>B</mi><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mtext>d</mtext></msub><mo stretchy=\"false\">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><msub><mrow><mfrac><mrow><mi mathvariant=\"normal\">∂</mi><mi>f</mi></mrow><mrow><mi mathvariant=\"normal\">∂</mi><mi>u</mi></mrow></mfrac><mo fence=\"true\">∣</mo></mrow><mrow><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mtext>d</mtext></msub><mo separator=\"true\">,</mo><msub><mi>u</mi><mtext>d</mtext></msub><mo stretchy=\"false\">)</mo></mrow></msub><mo>=</mo><mrow><mo fence=\"true\">[</mo><mtable rowspacing=\"0.16em\" columnalign=\"center center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msub><mi>v</mi><mtext>d</mtext></msub><mi mathvariant=\"normal\">/</mi><mi>l</mi></mrow></mstyle></mtd></mtr></mtable><mo fence=\"true\">]</mo></mrow><mi mathvariant=\"normal\">.</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n    A(x_\\text{d}) &amp;= \\left. \\frac{\\partial f}{\\partial x} \\right|_{(x_\\text{d}, u_\\text{d})}\n      = \\begin{bmatrix}\n          0 &amp; 0 &amp; -\\sin\\theta_\\text{d}\\, v_\\text{d} \\\\ 0 &amp; 0 &amp; \\cos\\theta_\\text{d}\\, v_\\text{d} \\\\ 0 &amp; 0 &amp; 0\n        \\end{bmatrix}. \\\\\n    B(x_\\text{d}) &amp;= \\left. \\frac{\\partial f}{\\partial u} \\right|_{(x_\\text{d}, u_\\text{d})}\n     = \\begin{bmatrix}\n       1 &amp; 0 \\\\ 0 &amp; 0 \\\\ 0 &amp; v_\\text{d}/l\n       \\end{bmatrix}.\n  \\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:7.8001em;vertical-align:-3.65em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.15em;\"><span style=\"top:-6.15em;\"><span class=\"pstrut\" style=\"height:4.05em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:4.05em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.65em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.15em;\"><span style=\"top:-6.15em;\"><span class=\"pstrut\" style=\"height:4.05em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen nulldelimiter\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:0.05556em;\">∂</span><span class=\"mord mathnormal\">x</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:0.05556em;\">∂</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.462em;\"><span style=\"top:-2.266em;\"><span class=\"pstrut\" style=\"height:3.216em;\"></span><span class=\"delimsizinginner delim-size1\"><span>∣</span></span></span><span style=\"top:-2.864em;\"><span class=\"pstrut\" style=\"height:3.216em;\"></span><span style=\"height:1.216em;width:0.3333em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='0.3333em' height='1.216em' style='width:0.3333em' viewBox='0 0 333.33000000000004 1216' preserveAspectRatio='xMinYMin'><path d='M145 0 H188 V1216 H145z M145 0 H188 V1216 H145z'/></svg></span></span><span style=\"top:-4.072em;\"><span class=\"pstrut\" style=\"height:3.216em;\"></span><span class=\"delimsizinginner delim-size1\"><span>∣</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.95em;\"><span></span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:-0.4747em;\"><span style=\"top:-1.7003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3488em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1512em;\"><span></span></span></span></span></span></span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3488em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1512em;\"><span></span></span></span></span></span></span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1747em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"minner\"><span class=\"mopen\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎣</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='0.6667em' height='0.016em' style='width:0.6667em' viewBox='0 0 666.67 16' preserveAspectRatio='xMinYMin'><path d='M319 0 H403 V16 H319z M319 0 H403 V16 H319z'/></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎡</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">sin</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\">cos</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎦</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='0.6667em' height='0.016em' style='width:0.6667em' viewBox='0 0 666.67 16' preserveAspectRatio='xMinYMin'><path d='M263 0 H347 V16 H263z M263 0 H347 V16 H263z'/></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎤</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">.</span></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:4.05em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen nulldelimiter\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:0.05556em;\">∂</span><span class=\"mord mathnormal\">u</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:0.05556em;\">∂</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.462em;\"><span style=\"top:-2.266em;\"><span class=\"pstrut\" style=\"height:3.216em;\"></span><span class=\"delimsizinginner delim-size1\"><span>∣</span></span></span><span style=\"top:-2.864em;\"><span class=\"pstrut\" style=\"height:3.216em;\"></span><span style=\"height:1.216em;width:0.3333em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='0.3333em' height='1.216em' style='width:0.3333em' viewBox='0 0 333.33000000000004 1216' preserveAspectRatio='xMinYMin'><path d='M145 0 H188 V1216 H145z M145 0 H188 V1216 H145z'/></svg></span></span><span style=\"top:-4.072em;\"><span class=\"pstrut\" style=\"height:3.216em;\"></span><span class=\"delimsizinginner delim-size1\"><span>∣</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.95em;\"><span></span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:-0.4747em;\"><span style=\"top:-1.7003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3488em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1512em;\"><span></span></span></span></span></span></span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3488em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1512em;\"><span></span></span></span></span></span></span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1747em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"minner\"><span class=\"mopen\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎣</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='0.6667em' height='0.016em' style='width:0.6667em' viewBox='0 0 666.67 16' preserveAspectRatio='xMinYMin'><path d='M319 0 H403 V16 H319z M319 0 H403 V16 H319z'/></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎡</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎦</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='0.6667em' height='0.016em' style='width:0.6667em' viewBox='0 0 666.67 16' preserveAspectRatio='xMinYMin'><path d='M263 0 H347 V16 H263z M263 0 H347 V16 H263z'/></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎤</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">.</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.65em;\"><span></span></span></span></span></span></span></span></span></span></span></span>","enumerator":"5","key":"M8Mpr2iumc"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"where","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"OEzHnpkHf7"}],"key":"zfYPW6oIGq"},{"type":"math","value":"x_\\text{d}(t) = \\begin{bmatrix} x_\\text{d} \\\\ y_\\text{d} \\\\ \\theta_\\text{d} \\end{bmatrix}, \\qquad\nu_\\text{d}(t) = \\begin{bmatrix} v_\\text{d} \\\\ \\delta_\\text{d} \\end{bmatrix}","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"tight":true,"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>x</mi><mtext>d</mtext></msub><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow><mo fence=\"true\">[</mo><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>x</mi><mtext>d</mtext></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>y</mi><mtext>d</mtext></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>θ</mi><mtext>d</mtext></msub></mstyle></mtd></mtr></mtable><mo fence=\"true\">]</mo></mrow><mo separator=\"true\">,</mo><mspace width=\"2em\"/><msub><mi>u</mi><mtext>d</mtext></msub><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow><mo fence=\"true\">[</mo><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>v</mi><mtext>d</mtext></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>δ</mi><mtext>d</mtext></msub></mstyle></mtd></mtr></mtable><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">x_\\text{d}(t) = \\begin{bmatrix} x_\\text{d} \\\\ y_\\text{d} \\\\ \\theta_\\text{d} \\end{bmatrix}, \\qquad\nu_\\text{d}(t) = \\begin{bmatrix} v_\\text{d} \\\\ \\delta_\\text{d} \\end{bmatrix}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.6em;vertical-align:-1.55em;\"></span><span class=\"minner\"><span class=\"mopen\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎣</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='0.6667em' height='0.016em' style='width:0.6667em' viewBox='0 0 666.67 16' preserveAspectRatio='xMinYMin'><path d='M319 0 H403 V16 H319z M319 0 H403 V16 H319z'/></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎡</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-4.21em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.01em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-1.81em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎦</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='0.6667em' height='0.016em' style='width:0.6667em' viewBox='0 0 666.67 16' preserveAspectRatio='xMinYMin'><path d='M263 0 H347 V16 H263z M263 0 H347 V16 H263z'/></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎤</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:2em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.4em;vertical-align:-0.95em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">[</span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.45em;\"><span style=\"top:-3.61em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03785em;\">δ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.95em;\"><span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">]</span></span></span></span></span></span></span>","enumerator":"6","key":"WUsqPVkETf"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"We see that these matrices depend only on ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"mu9Wy23KWN"},{"type":"inlineMath","value":"\\theta_\\text{d}","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>θ</mi><mtext>d</mtext></msub></mrow><annotation encoding=\"application/x-tex\">\\theta_\\text{d}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"sLkLqTKyEs"},{"type":"text","value":" and ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"jO9IRFhjGr"},{"type":"inlineMath","value":"v_\\text{d}","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mtext>d</mtext></msub></mrow><annotation encoding=\"application/x-tex\">v_\\text{d}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"rDSuHshKkG"},{"type":"text","value":", so we choose these as the scheduling variables and design a controller of the form","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"IbXk9c75Jv"}],"key":"rZuTceoVW5"},{"type":"math","value":"u = u_\\text{d} - K(\\mu) (x - x_\\text{d})","position":{"start":{"line":24,"column":1},"end":{"line":26,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>u</mi><mo>=</mo><msub><mi>u</mi><mtext>d</mtext></msub><mo>−</mo><mi>K</mi><mo stretchy=\"false\">(</mo><mi>μ</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo>−</mo><msub><mi>x</mi><mtext>d</mtext></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">u = u_\\text{d} - K(\\mu) (x - x_\\text{d})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">u</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">μ</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span>","enumerator":"7","key":"ZBr9vaC9Lj"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"where ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"k9wA6SBVAY"},{"type":"inlineMath","value":"\\mu = (\\theta_\\text{d}, v_\\text{d})","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>μ</mi><mo>=</mo><mo stretchy=\"false\">(</mo><msub><mi>θ</mi><mtext>d</mtext></msub><mo separator=\"true\">,</mo><msub><mi>v</mi><mtext>d</mtext></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mu = (\\theta_\\text{d}, v_\\text{d})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">μ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>","key":"lHJIQqVVP7"},{"type":"text","value":" and we interpolate the gains based on LQR controllers computed at a fixed set of points ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"ILrCeOCqUx"},{"type":"inlineMath","value":"\\mu_i","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>μ</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mu_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">μ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"hltB1OhVbI"},{"type":"text","value":".","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"Ugdrwu6Ppf"}],"key":"hSVnK4P31I"}],"identifier":"3cc26675","label":"3cc26675","html_id":"id-3cc26675","key":"aYwYxJDxS2"},{"type":"block","kind":"notebook-code","data":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":150,"status":"ok","timestamp":1760726537657,"user":{"displayName":"Jianguo Zhao","userId":"09996222056778326224"},"user_tz":360},"id":"another-milwaukee","outputId":"3a368ef0-4a26-4c51-ef69-11d673edb0a9"},"children":[{"type":"code","lang":"python","executable":true,"value":"# Define the points for the scheduling variables\ngs_speeds = [2, 10, 20]\ngs_angles = np.linspace(-pi, pi, 4) # generate 4 angles from -pi to pi for theta\n\n# generate all combinations of speed and angle, how many combinations?\npoints = [np.array([speed, angle])\n          for speed in gs_speeds\n          for angle in gs_angles]\n# Create controllers at each scheduling point\n# Since the linearization depends on only speed and angle, we assume other states are zero\ngains = [np.array(ctl.lqr(kincar.linearize([0, 0, angle], [speed, 0]), Qx, Qu)[0])\n    for speed in gs_speeds\n    for angle in gs_angles]\nprint(f\"{points=}\")\nprint(f\"{gains=}\")\n\n\n# Create the gain scheduled system\n# gainsched_method='linear' creates a linear interpolation of the gains between the points\nctrl_gs, _ = ctl.create_statefbk_iosystem(\n    kincar, (gains, points), name='controller',\n    xd_labels=['xd', 'yd', 'thetad'], ud_labels=['vd', 'deltad'],\n    gainsched_indices=['vd', 'theta'], gainsched_method='linear')\nprint(ctrl_gs)","identifier":"another-milwaukee-code","enumerator":"9","html_id":"another-milwaukee-code","key":"Dc5Ml0Ftgx"},{"type":"outputs","id":"DurpMb-zcFO0DSyH-j4-3","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"points=[array([ 2.        , -3.14159265]), array([ 2.        , -1.04719755]), array([2.        , 1.04719755]), array([2.        , 3.14159265]), array([10.        , -3.14159265]), array([10.        , -1.04719755]), array([10.        ,  1.04719755]), array([10.        ,  3.14159265]), array([20.        , -3.14159265]), array([20.        , -1.04719755]), array([20.        ,  1.04719755]), array([20.        ,  3.14159265])]\ngains=[array([[-1.00000000e+00, -2.59398436e-07, -1.23043482e-07],\n       [ 8.20289884e-08, -3.16227766e+00,  4.36734083e+00]]), array([[ 0.30513041, -3.01147046, -0.53921814],\n       [ 0.95231058,  0.96490708,  2.76628217]]), array([[ 0.30513017,  3.0114707 ,  0.53921711],\n       [-0.95231065,  0.96490633,  2.76628164]]), array([[-1.00000000e+00, -2.59398435e-07, -1.23043482e-07],\n       [ 8.20289876e-08, -3.16227766e+00,  4.36734083e+00]]), array([[-1.00000000e+00, -4.35732785e-07, -4.13372414e-08],\n       [ 1.37790805e-07, -3.16227766e+00,  4.36734083e+00]]), array([[ 0.67673285, -2.32815948, -0.44555847],\n       [ 0.73622867,  2.14001716,  3.18544973]]), array([[ 0.67673224,  2.32816123,  0.44555789],\n       [-0.73622922,  2.14001525,  3.18544797]]), array([[-1.00000000e+00, -4.35732784e-07, -4.13372421e-08],\n       [ 1.37790807e-07, -3.16227766e+00,  4.36734083e+00]]), array([[-1.00000000e+00, -4.66709522e-07, -2.21379766e-08],\n       [ 1.47586511e-07, -3.16227766e+00,  4.36734083e+00]]), array([[ 0.77629505, -1.99340411, -0.271618  ],\n       [ 0.63036973,  2.4548605 ,  3.26593138]]), array([[ 0.77629448,  1.99340635,  0.27161771],\n       [-0.63037044,  2.45485868,  3.26592947]]), array([[-1.00000000e+00, -4.66709522e-07, -2.21379766e-08],\n       [ 1.47586510e-07, -3.16227766e+00,  4.36734083e+00]])]\n<NonlinearIOSystem>: controller\nInputs (8): ['xd', 'yd', 'thetad', 'vd', 'deltad', 'x', 'y', 'theta']\nOutputs (2): ['v', 'delta']\nStates (0): []\n\nUpdate: <function create_statefbk_iosystem.<locals>._control_update at 0x77ff8d1a02c0>\nOutput: <function create_statefbk_iosystem.<locals>._control_output at 0x77ff8d1a2980>\n"},"children":[],"identifier":"another-milwaukee-outputs-0","html_id":"another-milwaukee-outputs-0","key":"WedCZlbFc2"}],"identifier":"another-milwaukee-outputs","html_id":"another-milwaukee-outputs","key":"VMco0bSqZL"}],"identifier":"another-milwaukee","label":"another-milwaukee","html_id":"another-milwaukee","key":"KeiNuG1pyX"},{"type":"block","kind":"notebook-content","data":{"id":"4ca5ab53"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"System construction","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rWbfVOX1Es"}],"identifier":"system-construction","label":"System construction","html_id":"system-construction","implicit":true,"key":"pCLPoTAsYl"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The input to the full closed loop system is the desired lateral position and the desired forward velocity.  The output for the system is taken as the full vehicle state plus the velocity of the vehicle.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"l2MmCjU1Wm"}],"key":"ArKQw73YLp"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We construct the system using the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"pnOgZQc14R"},{"type":"inlineCode","value":"ct.interconnect","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ireJxzdwWW"},{"type":"text","value":" function and use signal labels to keep track of everything.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"o2AA1rTveB"}],"key":"xNiVK0Uo02"}],"identifier":"4ca5ab53","label":"4ca5ab53","html_id":"id-4ca5ab53","key":"vIS6dqQ3JI"},{"type":"block","kind":"notebook-code","data":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":49,"status":"ok","timestamp":1760726542816,"user":{"displayName":"Jianguo Zhao","userId":"09996222056778326224"},"user_tz":360},"id":"editorial-satisfaction","outputId":"49fcbfde-dcde-4b51-8d5d-8f4c5355f28d"},"children":[{"type":"code","lang":"python","executable":true,"value":"steering_gainsched = ctl.interconnect(\n    [trajgen, ctrl_gs, kincar], name='steering',\n    inputs=['vref', 'yref'],\n    outputs=kincar.output_labels + kincar.input_labels\n)\nprint(steering_gainsched)","identifier":"editorial-satisfaction-code","enumerator":"10","html_id":"editorial-satisfaction-code","key":"kLop4jfZrQ"},{"type":"outputs","id":"AVHSrRBpTiqpaWQLbarZv","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"<InterconnectedSystem>: steering\nInputs (2): ['vref', 'yref']\nOutputs (5): ['x', 'y', 'theta', 'v', 'delta']\nStates (3): ['kincar_x', 'kincar_y', 'kincar_theta']\n\nSubsystems (3):\n * <NonlinearIOSystem trajgen: ['vref', 'yref'] -> ['xd', 'yd', 'thetad',\n    'vd', 'deltad']>\n * <NonlinearIOSystem controller: ['xd', 'yd', 'thetad', 'vd', 'deltad', 'x',\n    'y', 'theta'] -> ['v', 'delta']>\n * <NonlinearIOSystem kincar: ['v', 'delta'] -> ['x', 'y', 'theta']>\n\nConnections:\n * trajgen.vref <- vref\n * trajgen.yref <- yref\n * controller.xd <- trajgen.xd\n * controller.yd <- trajgen.yd\n * controller.thetad <- trajgen.thetad\n * controller.vd <- trajgen.vd\n * controller.deltad <- trajgen.deltad\n * controller.x <- kincar.x\n * controller.y <- kincar.y\n * controller.theta <- kincar.theta\n * kincar.v <- controller.v\n * kincar.delta <- controller.delta\n\nOutputs:\n * x <- kincar.x\n * y <- kincar.y\n * theta <- kincar.theta\n * v <- controller.v\n * delta <- controller.delta\n"},"children":[],"identifier":"editorial-satisfaction-outputs-0","html_id":"editorial-satisfaction-outputs-0","key":"eiRGrpjmai"}],"identifier":"editorial-satisfaction-outputs","html_id":"editorial-satisfaction-outputs","key":"xXiua141CE"}],"identifier":"editorial-satisfaction","label":"editorial-satisfaction","html_id":"editorial-satisfaction","key":"Ml6QvDvqbh"},{"type":"block","kind":"notebook-content","data":{"id":"47f5d528"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"System simulation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yHxCcRpnSE"}],"identifier":"system-simulation","label":"System simulation","html_id":"system-simulation","implicit":true,"key":"MM2MbGu2fG"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We now simulate the gain scheduled controller for a step input in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CTSav00ltD"},{"type":"inlineMath","value":"y","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>","key":"aIqgi9Xvcy"},{"type":"text","value":" position, using a range of vehicle speeds ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Ik1Ip3g06G"},{"type":"inlineMath","value":"v_\\text{d}","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mtext>d</mtext></msub></mrow><annotation encoding=\"application/x-tex\">v_\\text{d}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"DATk4KxfOG"},{"type":"text","value":":","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Gi6abInRLH"}],"key":"f8pRXwWNJk"}],"identifier":"47f5d528","label":"47f5d528","html_id":"id-47f5d528","key":"koU2f4ehxF"},{"type":"block","kind":"notebook-code","data":{"colab":{"base_uri":"https://localhost:8080/","height":487},"executionInfo":{"elapsed":1500,"status":"ok","timestamp":1760726549689,"user":{"displayName":"Jianguo Zhao","userId":"09996222056778326224"},"user_tz":360},"id":"smoking-trail","outputId":"1ca718e4-95ba-40a9-936b-40e875b62fae"},"children":[{"type":"code","lang":"python","executable":true,"value":"# Plot the reference trajectory for the y position\n# plt.plot([0, 5], [yref, yref], 'k-', linewidth=0.6)\n\n# Find the signals we want to plot\ny_index = steering_gainsched.find_output('y')\nv_index = steering_gainsched.find_output('v')\n\n# Do an iteration through different speeds\nfor vref in [2, 5, 20]:\n    # Simulate the closed loop controller response\n    tout, yout = ctl.input_output_response(\n        steering_gainsched, T, [vref * np.ones(len(T)), yref * np.ones(len(T))],\n        X0=[0, 0, 0], params={'maxsteer': 1}\n    )\n\n    # Plot the results\n    plot_lanechange(tout, yout, yout[3:])\n\n# Label the different curves\nplt.subplot(3, 1, 1)\nplt.legend([\"$v_d$ = \" + f\"{vref}\" for vref in [2, 10, 20]])\nplt.tight_layout()","identifier":"smoking-trail-code","enumerator":"11","html_id":"smoking-trail-code","key":"QbNtscFiPC"},{"type":"outputs","id":"657Hey-TakwNJOwoZihy4","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"cfae69d406fdd44bc51e93576c7360e9","path":"/cfae69d406fdd44bc51e93576c7360e9.png"},"text/plain":{"content":"<Figure size 640x480 with 5 Axes>","content_type":"text/plain"}}},"children":[],"identifier":"smoking-trail-outputs-0","html_id":"smoking-trail-outputs-0","key":"iJB779MlmX"}],"identifier":"smoking-trail-outputs","html_id":"smoking-trail-outputs","key":"YyU60f8zAZ"}],"identifier":"smoking-trail","label":"smoking-trail","html_id":"smoking-trail","key":"mwAgiZ96Ip"},{"type":"block","kind":"notebook-content","data":{"id":"f6133284"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"HW problem","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iiSM4ebCyu"}],"identifier":"hw-problem","label":"HW problem","html_id":"hw-problem","implicit":true,"key":"WuQprFmo57"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Problem 1: Constant Gain Controller Variation Study","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Y3rWvPvP40"}],"identifier":"problem-1-constant-gain-controller-variation-study","label":"Problem 1: Constant Gain Controller Variation Study","html_id":"problem-1-constant-gain-controller-variation-study","implicit":true,"key":"LLXRdHEWxo"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In this problem, we will try to vary the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"W2lKsd7vKA"},{"type":"inlineCode","value":"vref","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"NSUr5ddlWf"},{"type":"text","value":", ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"AuNdG3wf12"},{"type":"inlineCode","value":"yref","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"UhkC39778Z"},{"type":"text","value":" , and linearization point to investigate the performance of the constant gain controller.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"M3ilJYc5lw"}],"key":"wTsXbTaDqd"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Fix the forward speed ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"rRydfPD45p"},{"type":"inlineCode","value":"vref","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"L2aLiv8nDu"},{"type":"text","value":" (e.g., ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"p2etsYq5XV"},{"type":"inlineCode","value":"vref = 10","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"jxAlZlJqap"},{"type":"text","value":") and vary the lateral reference ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Kx6Ly5P4LH"},{"type":"inlineCode","value":"yref","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"G7lFlqCHMS"},{"type":"text","value":" (e.g., ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cRWbSAfAYL"},{"type":"inlineCode","value":"yref = 5","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"lFzz1gPwSG"},{"type":"text","value":", ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZB1OgBuQGw"},{"type":"inlineCode","value":"yref = 40","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"FaKLcyL07j"},{"type":"text","value":", ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UhUUsypLL4"},{"type":"inlineCode","value":"yref = -10","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"CtOv7c6yWZ"},{"type":"text","value":").  Plot the vehicle trajectory and compare the tracking performance using the constant gain controller.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bS7j9wPzPo"}],"key":"aF8wRx0KnP"}],"key":"tU7k1uxMQn"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Fix the lateral reference ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"lwB7nneroB"},{"type":"inlineCode","value":"yref","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"w4L0R2OS4G"},{"type":"text","value":" (e.g., ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"XjL6DRi5gx"},{"type":"inlineCode","value":"yref = 10","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"MYjx9qzmOJ"},{"type":"text","value":") and vary the forward speed ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Ly9gWSHMH5"},{"type":"inlineCode","value":"vref","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Msqw8HHjtA"},{"type":"text","value":" (e.g., ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"c5TNcXao3i"},{"type":"inlineCode","value":"vref = 8","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"lPU7KG8A09"},{"type":"text","value":", ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"TodQvazQbG"},{"type":"inlineCode","value":"vref = 15","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"tcLJi3q0NM"},{"type":"text","value":").  Plot the vehicle trajectory and compare the tracking performance using the constant gain controller.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BoelfrDinH"}],"key":"dYvCx2UlmS"}],"key":"AcIgataf6o"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Try changing the linearization point for the controller gain computation:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"zIMQw98A3G"}],"key":"SNlfFg78Vb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"x_nom = np.array([0, 0, 0])","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"DpEJpyt38r"},{"type":"text","value":", ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"uMVJP3Rqxn"},{"type":"inlineCode","value":"u_nom = np.array([5, 0])","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"hTZgnQeIp0"},{"type":"text","value":", simulate the system for (1) ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"grHP5ZiSFJ"},{"type":"inlineCode","value":"yref=5","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"OokynMZPdz"},{"type":"text","value":" and ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"m2wRIeowz9"},{"type":"inlineCode","value":"vref=5","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"L3imF20rxk"},{"type":"text","value":"; (2) ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"pdW32OcaQF"},{"type":"inlineCode","value":"yref=5","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Z53zwsuire"},{"type":"text","value":" and ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"bODZpS5Qbr"},{"type":"inlineCode","value":"vref=20","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"mLMupKq6nm"}],"key":"KL1X1cp3JC"}],"key":"VygB9HPX0Q"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"x_nom = np.array([0, 0, -np.pi/4])","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"wMFow4cwya"},{"type":"text","value":", ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Z8SaBgjYOt"},{"type":"inlineCode","value":"u_nom = np.array([20, 0])","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"moq0YQ6KI8"},{"type":"text","value":", simulate the system for (1) ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"tEhb0qOOch"},{"type":"inlineCode","value":"yref=5","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"DhKfwe4kBw"},{"type":"text","value":" and ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Olr760jQKd"},{"type":"inlineCode","value":"vref=5","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"mApkUtPKrt"},{"type":"text","value":"; (2) ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"TNhXse7Ekx"},{"type":"inlineCode","value":"yref=5","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"SlHk2wIzsR"},{"type":"text","value":" and ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"jv2cficdus"},{"type":"inlineCode","value":"vref=20","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"oaQ61MJPnw"}],"key":"T7kmI3tGrp"}],"key":"WIvVLy8ERL"}],"key":"O0LAzscbGJ"}],"key":"F7QuSMEXih"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Explain the results you have obtained in the previous three cases, especially why the linearization point matters for nonlinear systems.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ELKrkkRyH7"}],"key":"gzXdeZ1G2y"}],"key":"unuxUsqF2k"}],"key":"mPZuGWhpQy"},{"type":"heading","depth":3,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Problem 2. Gain-Scheduled Controller Comparison:","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"wKfIyR3gc3"}],"identifier":"problem-2-gain-scheduled-controller-comparison","label":"Problem 2. Gain-Scheduled Controller Comparison:","html_id":"problem-2-gain-scheduled-controller-comparison","implicit":true,"key":"wmfIO1WdSQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Repeat the above experiments using the gain-scheduled controller (see cell 21).","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"g4vqBroSsv"}],"key":"S8FS7dAkvv"}],"key":"wnHgcdRIbx"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Compare the tracking results for different ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"OVfPhqK8A7"},{"type":"inlineCode","value":"yref","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"Hy4Felzba5"},{"type":"text","value":" and ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"lMeZDNtBY6"},{"type":"inlineCode","value":"vref","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"DUin4b8S6X"},{"type":"text","value":" values.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"VmsL9O0kwE"}],"key":"cRrOMGX3yH"}],"key":"Lr7h5TFITU"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Explain why the gain-scheduled controller performs better across a wider range of operating conditions.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"YkqJlFUfl7"}],"key":"TGfOKIHavu"}],"key":"KYoJimvxhG"}],"key":"FKhoYOl7hl"},{"type":"heading","depth":3,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Problem 3: Implement an analytical gain controller","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"xm1aUqwE27"}],"identifier":"problem-3-implement-an-analytical-gain-controller","label":"Problem 3: Implement an analytical gain controller","html_id":"problem-3-implement-an-analytical-gain-controller","implicit":true,"key":"AerisHtqw7"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"In lectures, we derived an analytical gain-scheduled controller, where the feedback gain ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"hdOIayTDtl"},{"type":"inlineMath","value":"K","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>","key":"hXr6sqdzHW"},{"type":"text","value":" is a continuous function of the reference speed ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"HW7fJWssME"},{"type":"inlineMath","value":"v_r","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>r</mi></msub></mrow><annotation encoding=\"application/x-tex\">v_r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"uwyojkuVy0"},{"type":"text","value":". This approach is different from the gain-scheduled controller implemented in this lab, which uses interpolation between discrete LQR gains.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"aPCS5mFSUt"}],"key":"QomuF4umlh"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"The analytical gain matrix is given by:","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"u8sk7bsSSf"}],"key":"jwoEPAxQmn"},{"type":"math","value":"K(x_d, u_d) =\n    \\begin{bmatrix}\n    \\lambda_1 & 0 & 0 \\\\\n    0 & \\dfrac{a_2 l}{v_r^2} & \\dfrac{a_1 l}{v_r}\n    \\end{bmatrix}","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"tight":"before","html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>K</mi><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mi>d</mi></msub><mo separator=\"true\">,</mo><msub><mi>u</mi><mi>d</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mrow><mo fence=\"true\">[</mo><mtable rowspacing=\"0.16em\" columnalign=\"center center center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>λ</mi><mn>1</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mfrac><mrow><msub><mi>a</mi><mn>2</mn></msub><mi>l</mi></mrow><msubsup><mi>v</mi><mi>r</mi><mn>2</mn></msubsup></mfrac></mstyle></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mfrac><mrow><msub><mi>a</mi><mn>1</mn></msub><mi>l</mi></mrow><msub><mi>v</mi><mi>r</mi></msub></mfrac></mstyle></mstyle></mtd></mtr></mtable><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">K(x_d, u_d) =\n    \\begin{bmatrix}\n    \\lambda_1 &amp; 0 &amp; 0 \\\\\n    0 &amp; \\dfrac{a_2 l}{v_r^2} &amp; \\dfrac{a_1 l}{v_r}\n    \\end{bmatrix}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.6em;vertical-align:-1.55em;\"></span><span class=\"minner\"><span class=\"mopen\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎣</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='0.6667em' height='0.016em' style='width:0.6667em' viewBox='0 0 666.67 16' preserveAspectRatio='xMinYMin'><path d='M319 0 H403 V16 H319z M319 0 H403 V16 H319z'/></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎡</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.0022em;\"><span style=\"top:-4.5337em;\"><span class=\"pstrut\" style=\"height:3.3714em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">λ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.8022em;\"><span class=\"pstrut\" style=\"height:3.3714em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.5022em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.0022em;\"><span style=\"top:-4.5337em;\"><span class=\"pstrut\" style=\"height:3.3714em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span><span style=\"top:-2.8022em;\"><span class=\"pstrut\" style=\"height:3.3714em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7401em;\"><span style=\"top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span><span style=\"top:-2.989em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.933em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.5022em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.0022em;\"><span style=\"top:-4.5337em;\"><span class=\"pstrut\" style=\"height:3.3714em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span><span style=\"top:-2.8022em;\"><span class=\"pstrut\" style=\"height:3.3714em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.836em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.5022em;\"><span></span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.05em;\"><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎦</span></span></span><span style=\"top:-3.397em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span style=\"height:0.016em;width:0.6667em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='0.6667em' height='0.016em' style='width:0.6667em' viewBox='0 0 666.67 16' preserveAspectRatio='xMinYMin'><path d='M263 0 H347 V16 H263z M263 0 H347 V16 H263z'/></svg></span></span><span style=\"top:-4.05em;\"><span class=\"pstrut\" style=\"height:3.155em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎤</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.55em;\"><span></span></span></span></span></span></span></span></span></span></span></span>","enumerator":"8","key":"pkKXwVDbhb"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"strong","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Tasks:","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"N4kL3v2kPs"}],"key":"XGYelUDox6"}],"key":"NMiuVzUKaz"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":31,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Implement this analytical gain-scheduled controller in your simulation, using ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"lk7o1BneEB"},{"type":"inlineMath","value":"v_r","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>r</mi></msub></mrow><annotation encoding=\"application/x-tex\">v_r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"OBAVFhSiIJ"},{"type":"text","value":" as the reference speed (you may use ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"SzzD7lvV9f"},{"type":"inlineMath","value":"l = 3","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">l = 3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span>","key":"ylIPIBwV1u"},{"type":"text","value":" as in the lab).","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"bAaEX705cq"}],"key":"YA1zuwjUR0"}],"key":"WIMXqiBSGq"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Choose and justify reasonable values for ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"qkd7vYnciX"},{"type":"inlineMath","value":"\\lambda_1","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>λ</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\lambda_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">λ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"UlzLyinLHd"},{"type":"text","value":", ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"f80SimeRwv"},{"type":"inlineMath","value":"a_1","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">a_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"BSfv4idR4V"},{"type":"text","value":", and ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"hGegOWiWDQ"},{"type":"inlineMath","value":"a_2","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">a_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"hTqT3HPTwL"},{"type":"text","value":".","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"uHZDAg0h2J"}],"key":"WHv0ZRwHbx"}],"key":"uZ3s8jMU8n"},{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Simulate the closed-loop system using this controller for several values of ","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"dKgWrZJ5x1"},{"type":"inlineMath","value":"v_{ref}","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">v_{ref}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"RUP0sCSXSt"},{"type":"text","value":" and ","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"WMaFBC7DLL"},{"type":"inlineMath","value":"y_{ref}","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">y_{ref}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"tbULmYwubD"},{"type":"text","value":".","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"fQc3ttPuXP"}],"key":"jZ3mbm5WmF"}],"key":"mtufWdWcDV"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Compare the tracking performance of this controller with the gain-scheduled controller from Task 2 (which uses interpolated LQR gains).","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"OW1DBbpf0I"}],"key":"HmbH2nbZup"}],"key":"Tq2BE3x6X3"}],"key":"WcGIq9TmIo"}],"identifier":"f6133284","label":"f6133284","html_id":"f6133284","key":"kpHTiW1ePg"}],"key":"cpfed1ZZnO"},"references":{"cite":{"order":[],"data":{}}}}